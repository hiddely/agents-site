(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function c(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(n){if(n.ep)return;n.ep=!0;const t=c(n);fetch(n.href,t)}})();function p(){const r=document.querySelector("#connection-svg");if(!r||document.querySelectorAll(".node").length===0)return;const c=[{from:"cloud-agent",to:"sub-agent-1"},{from:"cloud-agent",to:"sub-agent-2"},{from:"cloud-agent",to:"encrypted-agent"},{from:"encrypted-agent",to:"credential-proxy"},{from:"credential-proxy",to:"sensitive-site"},{from:"sensitive-site",to:"credential-proxy",return:!0},{from:"encrypted-agent",to:"cloud-agent",return:!0}];function d(t){const o=document.querySelector(`[data-node="${t}"]`);if(!o||!r)return null;const e=o.getBoundingClientRect(),s=r.getBoundingClientRect();return{x:e.left-s.left+e.width/2,y:e.top-s.top+e.height/2}}c.forEach(t=>{const o=d(t.from),e=d(t.to);if(o&&e){const s=document.createElementNS("http://www.w3.org/2000/svg","path"),a=(o.x+e.x)/2,i=(o.y+e.y)/2,m=e.x-o.x,u=e.y-o.y,f=Math.sqrt(m*m+u*u)*.2,y=`M ${o.x} ${o.y} Q ${a+f} ${i} ${e.x} ${e.y}`;s.setAttribute("d",y);const h=t.return?"connection-line return-path":"connection-line";s.setAttribute("class",h),s.setAttribute("data-path",`${t.from}-${t.to}`),r.appendChild(s)}});function n(t,o){if(!r)return;const e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("r","4"),e.setAttribute("class","particle");const s=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");s.setAttribute("dur","3s"),s.setAttribute("repeatCount","indefinite"),s.setAttribute("begin",`${o}s`);const a=document.createElementNS("http://www.w3.org/2000/svg","mpath");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#${t.id}`),s.appendChild(a),e.appendChild(s);const i=document.createElementNS("http://www.w3.org/2000/svg","animate");i.setAttribute("attributeName","opacity"),i.setAttribute("values","0;1;1;0"),i.setAttribute("keyTimes","0;0.1;0.9;1"),i.setAttribute("dur","3s"),i.setAttribute("repeatCount","indefinite"),i.setAttribute("begin",`${o}s`),e.appendChild(i),r.appendChild(e)}setTimeout(()=>{r.querySelectorAll(".connection-line").forEach((o,e)=>{const s=o;s.id=`path-${e}`,n(s,e*.5),n(s,e*.5+1.5)})},1e3)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p();function g(){const r=document.getElementById("demo-send-btn"),l=document.getElementById("demo-viz"),c=document.getElementById("demo-status"),d=document.getElementById("planner-agent"),n=document.getElementById("encrypted-agent"),t=document.getElementById("user-message"),o=document.getElementById("agent-response"),e=document.getElementById("typing-indicator"),s=document.getElementById("response-text");!r||!l||!c||!d||!n||!t||!o||!e||!s||r.addEventListener("click",()=>{l.classList.remove("hidden"),d.classList.add("hidden"),n.classList.add("hidden"),t.classList.add("hidden"),o.classList.add("hidden"),e.classList.add("hidden"),s.classList.add("hidden");const a=d.querySelector(".loading-spinner"),i=d.querySelector(".demo-agent-text"),m=n.querySelector(".loading-spinner"),u=n.querySelector(".demo-agent-text");a&&(a.style.display="block"),i&&(i.textContent="Analyzing request..."),m&&(m.style.display="block"),u&&(u.textContent="Accessing Secure Banking API..."),t.classList.remove("hidden"),r.setAttribute("disabled","true"),r.style.opacity="0.6",r.style.cursor="not-allowed",setTimeout(()=>{o.classList.remove("hidden"),e.classList.remove("hidden")},300),c.textContent="Setting up Planner...",setTimeout(()=>{c.textContent="Planner analyzing request...",d.classList.remove("hidden")},800),setTimeout(()=>{a&&(a.style.display="none"),i&&(i.textContent="✓ Analysis complete - sensitive data detected - spawn encrypted agent")},2500),setTimeout(()=>{c.textContent="Deploying encrypted agent...",n.classList.remove("hidden")},3e3),setTimeout(()=>{c.textContent="Encrypted agent accessing secure data...",u&&(u.textContent="Fetching from Secure Banking API and computing average...")},4500),setTimeout(()=>{m&&(m.style.display="none"),u&&(u.textContent="✓ Data retrieved and processed - return average back to Planner Agent")},9500),setTimeout(()=>{c.textContent="Planner post-processing result...",a&&(a.style.display="block"),i&&(i.textContent="Output received, post-processing result...")},1e4),setTimeout(()=>{c.textContent="Computation complete!",a&&(a.style.display="none"),i&&(i.textContent="✓ Post-processing complete"),e.classList.add("hidden"),s.classList.remove("hidden"),setTimeout(()=>{r.removeAttribute("disabled"),r.style.opacity="1",r.style.cursor="pointer"},1e3)},11500)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g();document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",l=>{l.preventDefault();const c=r.getAttribute("href");if(c&&c!=="#"){const d=document.querySelector(c);d&&d.scrollIntoView({behavior:"smooth",block:"start"})}})});
